<!DOCTYPE html>
<script>
    // Takes in a string from user (rock / paper / scissors) and a randomly generated int (see function below) for computer. 
    function rps(playerSelect, computerSelect) {
        playerSelect = playerSelect.toLowerCase();
        let selections = {
            "rock": 1,
            "paper": 2,
            "scissors": 3
        }
        const playerNum = selections[playerSelect];
        if (playerNum === computerSelect) {
            return "draw";
        }
        else {
            switch (playerNum) {
                case 1:
                    if (computerSelect === 2) {
                        return "me";
                    }
                    else {
                        return "you";
                    }
                case 2:
                    if (computerSelect === 3) {
                        return "me";
                    }
                    else {
                        return "you";
                    }
                case 3:
                    if (computerSelect === 1) {
                        return "me";
                    }
                    else {
                        return "you";
                    }
            }
        }
    }
    // Generates a random int for computer's input, between one and three. 
    function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }   

    // Plays rps function as many times as specified, tracks wins by computer, wins by user, and reports winner at the end. 
    function game(rounds) {
        let computerScore = 0;
        let playerScore = 0;
        let i = 0;
        while (i < rounds) {
            const userInput = prompt("Choose 'rock', 'paper', or 'scissors'");
            const computerInput = getRandomInt(1, 3);
            if (rps(userInput, computerInput) === "draw") {
                console.log("This one was a draw");
                i++;
            }
            else if (rps(userInput, computerInput) === "me") {
                console.log("Bad luck, I won this one");
                computerScore++;
                i++;
            }
            else {
                console.log("Congrats, you won this one");
                playerScore++;
                i++;
            }
        }
        if (computerScore === playerScore) {
            console.log(`It's a draw, we both got ${computerScore}`);
        }
        else if (computerScore > playerScore) {
            console.log(`I beat you ${computerScore} to ${playerScore}, douchebag`);
        }
        else {
            console.log(`You beat me ${playerScore} to ${computerScore}, douchebag`);
        }
    }
</script>